<!doctype html>
<html lang="en">
<head>

  <meta charset="utf-8">
  <meta name="description" content="The intersection of development and design." />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />

  <title>Real-Time Drone Telemetry</title>

  <link rel="icon" type="image/x-icon" href="/img/edit.svg">  
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;600;700&display=swap" rel="stylesheet">

  <link rel="alternate" type="application/rss+xml" title="Kevin Hoyt" href="/feed.xml" />  

  <link rel="stylesheet" href="/style/kevinhoyt.css" />
  <link rel="stylesheet" href="/style/header.css" />
  <link rel="stylesheet" href="/style/post.css" />
  <link rel="stylesheet" href="/style/prism.css" />    
  <link rel="stylesheet" href="/style/footer.css" />

</head>
<body>
  
  <header id="header">

  <article>

    <kh-follow>
      <img src="/img/krhoyt.jpg">
    </kh-follow>

    <nav>
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
        <path fill="currentColor" d="M4 18q-.425 0-.712-.288T3 17t.288-.712T4 16h16q.425 0 .713.288T21 17t-.288.713T20 18zm0-5q-.425 0-.712-.288T3 12t.288-.712T4 11h16q.425 0 .713.288T21 12t-.288.713T20 13zm0-5q-.425 0-.712-.288T3 7t.288-.712T4 6h16q.425 0 .713.288T21 7t-.288.713T20 8z"/>
      </svg>           
      <select>
        <option value="/" >Home</option>
        <option value="/blog" selected>Writing</option>
        <option value="/about" >About</option>
        <option value="/events" >Events</option>
      </select>      
    </nav>

    <ul>
      <li><a href="/">Home</a></li>
      <li><a href="/blog">Writing</a></li>    
      <li><a href="/about">About</a></li>
      <li><a href="/events">Events</a></li>
    </ul>  

    <div>

      <!-- Bluesky (not listed)
      <a href="https://bsky.app/profile/krhoyt.bsky.social" target="_blank">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24">
          <path fill="currentColor" d="M12 11.388c-.906-1.761-3.372-5.044-5.665-6.662c-2.197-1.55-3.034-1.283-3.583-1.033C2.116 3.978 2 4.955 2 5.528c0 .575.315 4.709.52 5.4c.68 2.28 3.094 3.05 5.32 2.803c-3.26.483-6.157 1.67-2.36 5.898c4.178 4.325 5.726-.927 6.52-3.59c.794 2.663 1.708 7.726 6.444 3.59c3.556-3.59.977-5.415-2.283-5.898c2.225.247 4.64-.523 5.319-2.803c.205-.69.52-4.825.52-5.399c0-.575-.116-1.55-.752-1.838c-.549-.248-1.386-.517-3.583 1.033c-2.293 1.621-4.76 4.904-5.665 6.664"/>
        </svg>
      </a>
      -->

      <!-- Twitter (not listed)
      <a href="https://x.com/krhoyt" target="_blank">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24">
          <path fill="currentColor" fill-rule="evenodd" d="M5 1a4 4 0 0 0-4 4v14a4 4 0 0 0 4 4h14a4 4 0 0 0 4-4V5a4 4 0 0 0-4-4zm-.334 3.5a.75.75 0 0 0-.338 1.154l5.614 7.45l-5.915 6.345l-.044.051H6.03l4.83-5.179l3.712 4.928a.75.75 0 0 0 .337.251h4.422a.75.75 0 0 0 .336-1.154l-5.614-7.45L20.017 4.5h-2.05l-4.83 5.18l-3.714-4.928a.75.75 0 0 0-.337-.252zm10.88 13.548L6.431 5.952H8.45l9.114 12.095z" clip-rule="evenodd"/>
        </svg>
      </a>
      -->      

      <!-- GitHub -->
      <a href="https://github.com/krhoyt" target="_blank">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24">
          <path fill="currentColor" d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5c.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34c-.46-1.16-1.11-1.47-1.11-1.47c-.91-.62.07-.6.07-.6c1 .07 1.53 1.03 1.53 1.03c.87 1.52 2.34 1.07 2.91.83c.09-.65.35-1.09.63-1.34c-2.22-.25-4.55-1.11-4.55-4.92c0-1.11.38-2 1.03-2.71c-.1-.25-.45-1.29.1-2.64c0 0 .84-.27 2.75 1.02c.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02c.55 1.35.2 2.39.1 2.64c.65.71 1.03 1.6 1.03 2.71c0 3.82-2.34 4.66-4.57 4.91c.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"/>
        </svg>
      </a>      

      <!-- YouTube -->
      <a href="https://www.youtube.com/channel/UCSFeFhtLBuzU2UMs7oOL54A" target="_blank">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24">
          <path fill="currentColor" d="m10 15l5.19-3L10 9zm11.56-7.83c.13.47.22 1.1.28 1.9c.07.8.1 1.49.1 2.09L22 12c0 2.19-.16 3.8-.44 4.83c-.25.9-.83 1.48-1.73 1.73c-.47.13-1.33.22-2.65.28c-1.3.07-2.49.1-3.59.1L12 19c-4.19 0-6.8-.16-7.83-.44c-.9-.25-1.48-.83-1.73-1.73c-.13-.47-.22-1.1-.28-1.9c-.07-.8-.1-1.49-.1-2.09L2 12c0-2.19.16-3.8.44-4.83c.25-.9.83-1.48 1.73-1.73c.47-.13 1.33-.22 2.65-.28c1.3-.07 2.49-.1 3.59-.1L12 5c4.19 0 6.8.16 7.83.44c.9.25 1.48.83 1.73 1.73"/>
        </svg>
      </a>          

      <!-- RSS feed -->
      <a href="/feed.xml" target="_blank">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24">
          <path fill="currentColor" d="M5 21q-.825 0-1.412-.587T3 19t.588-1.412T5 17t1.413.588T7 19t-.587 1.413T5 21m13.5 0q-.65 0-1.088-.475T16.9 19.4q-.275-2.425-1.312-4.537T12.9 11.1T9.138 8.413T4.6 7.1q-.65-.075-1.125-.512T3 5.5t.45-1.062t1.075-.363q3.075.275 5.763 1.563t4.737 3.337t3.338 4.738t1.562 5.762q.05.625-.363 1.075T18.5 21m-6 0q-.625 0-1.075-.437T10.85 19.5q-.225-1.225-.787-2.262T8.65 15.35t-1.888-1.412T4.5 13.15q-.625-.125-1.062-.575T3 11.5q0-.65.45-1.075t1.075-.325q1.825.25 3.413 1.063t2.837 2.062t2.063 2.838t1.062 3.412q.1.625-.325 1.075T12.5 21"/>
        </svg>
      </a>      

      <!-- Instagram (not listed)
      <a href="https://www.instagram.com/parkerkrhoyt" target="_blank">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 14 14">
          <path fill="currentColor" fill-rule="evenodd" d="M3.39.787A2.604 2.604 0 0 0 .786 3.39v6.944a2.604 2.604 0 0 0 2.604 2.604h6.944a2.604 2.604 0 0 0 2.603-2.604V3.39A2.604 2.604 0 0 0 10.334.787zm7.693 2.607a.75.75 0 1 1-1.5 0a.75.75 0 0 1 1.5 0m-4.22 1.388a2.08 2.08 0 1 0 0 4.16a2.08 2.08 0 0 0 0-4.16m-3.081 2.08a3.08 3.08 0 1 1 6.16 0a3.08 3.08 0 0 1-6.16 0" clip-rule="evenodd"/>
        </svg>
      </a>
      -->     

    </div>

  </article>

</header>


  
  
    <main>

      <div>

        <img src="/img/covers/drone.jpg" alt="Real-Time Drone Telemetry">

        
          <figcaption>
            <p>Photo by <a href="https://unsplash.com/@asoggetti">Alessio Soggetti</a> on <a href="https://unsplash.com/photos/turned-on-drone-rSFxBGpnluw">Unsplash</a></p>
          </figcaption>
        

      </div>

      <article>

        <h1>Real-Time Drone Telemetry</h1>

        <time>May 14, 2015 · 5 min read</time>

        
          <aside>
            
              <p>IoT</p>
            
              <p>Data</p>
            
          </aside>
                
        
        <p><em>Modern commercial aircraft have what is commonly referred to as a &quot;black box&quot;.  The black box is a flight data recorder.  It captures numerous sensor data points across the aircraft, and records them for playback in the case of a catastrophe.</em></p>
<p><em>As we have seen lately however, the onboard data recorder can be turned off, destroyed beyond playback, or altogether lost.  What if all that data was streamed in real-time across a satellite connection and into a data center?  With a DJI Phantom 2, Arduino, a pile of sensors, and an Inmarsat modem, we set out to explore this possibility.</em></p>
<blockquote>
<p>This is reposted from the Kaazing <a href="http://developer.kaazing.com/portfolio/telemetry/">demo listing</a>.</p>
</blockquote>
<h3>Pieces Parts</h3>
<p>While we could not afford to expense a Boeing 737, we did manage to pick up a <a href="http://www.dji.com/product/phantom-2">DJI Phantom 2</a>.  The Phantom is an remote control quadcopter that is capable of carrying our sensor array.</p>
<p>The sensor array consists of a tupperware bowl filled with an Arduino and a stack of sensors.  The tupperware bowl was then strapped between the landing gear of the Phantom quadcopter.  What is that?  Oh, the actual sensors we used?  Sure, there was quite an array, but we largely attempted to emulate what pilots call the &quot;six pack&quot; - the core set of instruments necessary to fly a plane safely (per the FAA).</p>
<ul>
<li>Arduino Uno</li>
<li>GPS module on a GPS Shield</li>
<li>Compass</li>
<li>Accelerometer (tilt)</li>
<li>Temperature</li>
<li>Humidity</li>
<li>RGB LED (bi-directional communication)</li>
<li>XBee module on an XBee Shield</li>
</ul>
<p><img src="/img/assets/quadcopter.sensor.array.jpg" alt="Quadcopter sensor array."></p>
<p>While we did not have the time or resources to stream the video of the flight, we did mount a GoPro Hero 3 in the tupperware case as well.  It recorded the flights we made independently from the sensor data.  The sensor data was recorded, but also streamed across the web in real-time.  More on that in a moment.  For now, have a look at the project in action.</p>
<h3>Data Communication</h3>
<p>Because the Phantom is not quite strong enough to carry a satellite modem, we needed a way to get the sensor data onto the web.  Of course we cannot exactly put a wire to the Phantom either, so the solution needed to be wireless.</p>
<p>We accomplished this using the aforementioned XBee module.  The XBee gave us a range of about one mile, which was plenty for our experiment.  The XBee on the Phantom had a receiver back on the ground, plugged into a computer USB port.  The computer was connected to an Inmarsat satellite modem.  A Java program on the computer, read the data coming from the XBee radion via the USB port, and then sent that data to a Kaazing Gateway as it arrived.</p>
<p><img src="/img/assets/quadcopter.inmarsat.jpg" alt="Inmarsat Explorer."></p>
<p>Keeping in mind that we had to go over XBee, wireless to an Inmarsat modem, up to a satellite in space, back down to a data center connected to the Internet, and then to the various devices through whatever means of connection they had, you might expect some serious lag.  In the end, we reliably measured a latency of <strong>less than one</strong> second from the sensor array, to a mobile device (on a cellular network) tracking the flight.  One second!</p>
<h3>Data Recording</h3>
<p>Thanks to Kaazing Gateway, data from the Java program was sent using publish-subscribe.  This meant that data was pushed to any interested clients.  In most cases, this was a mobile phone or tablet monitoring the flight.  However, a Node.js process also listened for sensor messages, and recorded the data to a database.</p>
<p><img src="/img/assets/quadcopter.screenshot.png" alt="Web browser tracking the flight in real-time."></p>
<p>Because the data recording was decoupled from the sensor reporting, it could have been Node.js or any other technology on the other side.  While we as developers tend to think of this as platforms, with publish-subscribe, it could effectively be several entirely different entities.  The aircraft manufacturer could record the data.  The FAA could record the data.  The airline itself could record the data.  All using their own stacks, own database structures, etc. without needing to be a part of the actual telemetry broadcasting itself.</p>
<h3>Big Picture</h3>
<p>Initially, we set out to show that flight data could be recorded in real-time to the cloud.  While our rig is nowhere near what is needed for deployment on actual aircraft, it proves the point that a black box in the cloud is feasible.  But then we started thinking about the downstream implications.</p>
<p><img src="/img/assets/quadcopter.cloud.jpg" alt="Black box in the cloud."></p>
<p>Think about how applications track flights today.  Maybe something like a TripIt or FlightTrack that let you know where your flight is, or how soon you can expect grandma to arrive for Christmas.  These application scrape data from various sources to try and give you a decent picture of what is going on.  But imagine if they could simply subscribe to specific flight data for a given client?</p>
<p>Leveraging real-time data, and decoupling the parts and pieces using publish-subscribe opens the door to entirely new ways to view and manage aircraft data.  This impacts not only manufacturers and aviation entities such as the FAA, but trickles right on down to you and me in the applications we use.  Modernizing just a fragment of the infrastructure could significantly travel in a positive way.</p>

        
      </article>

    </main>

          

  <footer id="footer">

  <p>
    Made with ❤️ by Kevin Hoyt &copy; 2025 · Published with <a href="https://www.11ty.dev">Eleventy</a>
  </p>
  
</footer>


  <script src="/script/menu.js"></script>

</body>
</html>
